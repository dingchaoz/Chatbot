<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <title>Chat window Switch</title>
    
    

    <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>

        <link rel="stylesheet" type= "text/css" href="{{ url_for('static',filename='styles/normalize.css') }}">
        <link rel="stylesheet" type= "text/css" href="{{ url_for('static',filename='styles/style.css') }}">

    
    
    
  </head>

  <body>

    <div class="chat-box">
  <div class="chat-header">
    <div class="user-profile active" data-up='cont1'></div>
    <span>Leyna Jr</span>
    <div class="user-profile" data-up='cont2'></div>
    <span>Nastu</span>
    <div class="user-profile" data-up='cont3'></div>
    <span>Lucy</span>
    <div class="user-profile" data-up='cont4'></div>
    <span>Goku?</span>
  </div>
  <div id='chat' class="chat">

    <div class="chat-container active" id='cont1'>

      <div class="bubble">
        <p>Yo, I am Leyna Jr, an AI Chatbot built by Dingchao Zhang</p>
      </div>
      <span class="datestamp">May 20, 2016, 4:16 PM</span>


      <div class="bubble bubble-alt">
        <p>That's cool!</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:17 PM</span>

    

    <div class="bubble bubble-alt">
        <p>hey!!!.</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:22 PM</span>
    </div>

    <div class="chat-container" id='cont2'>

      <div class="bubble">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ut sapien vitae eros consectetur vehicula lacinia at nibh. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum aliquet elit nec erat rutrum rutrum. Mauris ligula
          magna, dignissim id tortor eu, aliquet dapibus ipsum</p>
      </div>
      <span class="datestamp">May 20, 2016, 4:16 PM</span>


      <div class="bubble bubble-alt">
        <p>Aenean ac magna rutrum, finibus est at, venenatis ipsum. Etiam egestas venenatis semper. Sed a neque sed sem lacinia finibus ac nec nisi.</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:17 PM</span>

    </div>
    <div class="chat-container" id='cont3'>
      <div class="bubble">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ut sapien vitae eros consectetur vehicula lacinia at nibh. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum aliquet elit nec erat rutrum rutrum. Mauris ligula
          magna, dignissim id tortor eu, aliquet dapibus ipsum</p>
      </div>
      <span class="datestamp">May 20, 2016, 4:16 PM</span>


      <div class="bubble bubble-alt">
        <p>Aenean ac magna rutrum, finibus est at, venenatis ipsum. Etiam egestas venenatis semper. Sed a neque sed sem lacinia finibus ac nec nisi.</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:17 PM</span>

      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:22 PM</span>
    </div>
    <div class="chat-container" id='cont4'>
      <div class="bubble">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ut sapien vitae eros consectetur vehicula lacinia at nibh. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vestibulum aliquet elit nec erat rutrum rutrum. Mauris ligula
          magna, dignissim id tortor eu, aliquet dapibus ipsum</p>
      </div>
      <span class="datestamp">May 20, 2016, 4:16 PM</span>


      <div class="bubble bubble-alt">
        <p>Aenean ac magna rutrum, finibus est at, venenatis ipsum. Etiam egestas venenatis semper. Sed a neque sed sem lacinia finibus ac nec nisi.</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:17 PM</span>

      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:22 PM</span>
    </div>
  </div>
 <!--  <div class="chat-control">
    <input class="chat-input" type="text" placeholder="enter your message" />
  </div> -->
  <div class="panel-footer">
                            <form method="post" id="chatbot-form">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="Enter Message" name="messageText" id="messageText" autofocus/>
                                    <span class="input-group-btn">
                                        <button class="btn btn-info" type="button" id="chatbot-form-btn">SEND <span class="glyphicon glyphicon-send"></span></button>
                                    </span>
                                </div>
                            </form>
                        </div>
</div>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script>

        <script type="text/javascript" src="{{ url_for('static', filename='js/index.js') }}"></script>

   

        <script>
        $(function() {
            $('#chatbot-form-btn').click(function(e) {
                e.preventDefault();
                $('#chatbot-form').submit();
            });

            $('#chatbot-form').submit(function(e) {
                e.preventDefault();

                var message = $('#messageText').val();
                $("#cont1").append('<div class = "bubble" style="opacity:1;"><p>' + message + '</p></div>');
                $.ajax({
                    type: "POST",
                    url: "/ask",
                    data: $(this).serialize(),
                    success: function(response) {
                        $('#messageText').val('');

                        var answer = response.answer;
                        console.log(answer)
                        $("#cont1").append('<div class = "bubble bubble-alt" style="opacity:1;"><p>' + answer + '</p></div>');
                    },
                    error: function(error) {
                        console.log(error);
                    }
                });
            });
        });

        </script>

       <!--  <div class="bubble bubble-alt">
        <p>hey!!!.</p>
      </div>
      <span class="datestamp  dt-alt">May 20, 2016, 4:22 PM</span>
    </div> -->
    
    
  </body>
</html>
